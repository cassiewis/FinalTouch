<!-- Popup Modal -->
<div *ngIf='showCheckoutPopup' class="popup-overlay">
    <div class="popup-container">
      <div class="popup-content white-background">
        <div class="reservation-header">
          <p class="title">RESERVATION FORM</p>
        </div>
        <button mat-button (click)="closePopup()" class="back-button">X</button>
        <!-- <p class="form-description">Description</p> -->
         <div class="form-container">
          <form #checkoutForm="ngForm" (ngSubmit)="confirmCheckout()">
            <div class="all-form-items">
              <div class="form-items">
                  <!-- Name field -->
                  <div class="form-item">
                      <label for="name">Full Name</label>
                      <input type="text" [(ngModel)]="this.name" id="name" name="name" maxlength="50" required ngModel>
                    </div>
    
                  <!-- Email field -->
                  <div class="form-item">
                      <label for="email">Email</label>
                      <input type="email" [(ngModel)]="this.email" id="email" name="email" maxlength="80" required ngModel>
                    </div>
  
                  <div class="form-item">
                    <label for="phone-number">Phone Number</label>
                    <input type="tel" [(ngModel)]="this.phoneNumber" id="phone-number" name="phone-number" pattern="[0-9]*" inputmode="numeric" maxlength="10" required ngModel>
                  </div>
              </div>
              <br>
              <!-- Message field -->
              <div class="form-item">
                  <label for="message">Special Notes</label>
                  <textarea id="message" [(ngModel)]="this.customerNotes" name="message" maxlength="400"></textarea>
                </div>
            </div>
              <!-- Agree to the terms and conditions -->
            <div class="checkboxes">
              <p>Terms:</p>
              <ul class="terms-list"> 
                <li><b>Return Condition:</b> Items must be returned in their original condition. No washing or altering is allowed.
                </li>
                <li><b>Deposit:</b> A deposit is required and will be refunded fully upon the return of items in original condition and on time. Damage or late returns may result in partial or no refund.
                </li>
                <li><b>Item Availability:</b> While we strive to ensure all items are available, if an item is unavailable due to a previous renterâ€™s delay or damage, we will do our best to provide a similar replacement.
                </li>
              </ul>
              <div class="agree-box">
                <input type="checkbox" id="deposit-checkbox" name="deposit-checkbox" [(ngModel)]="isAgreed" value="deposit-checkbox" class="custom-checkbox">
                <label for="deposit-checkbox" class="agree-text"> Customer agrees to the terms listed above</label>
              </div>
            </div>
            <!-- Submit button -->        
            <div class="submit-button-container">
              <button 
              class="submitButton button-theme pink-background" 
              [disabled]="!checkoutForm.valid || !isAgreed || isSubmitting" 
              type="submit">
              {{ isSubmitting ? 'Submitting...' : 'Confirm' }}
            </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  